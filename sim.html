<!doctype>
<html>  
  <head>
    <script type="text/javascript" src="perlin-noise-simplex.js"></script>
    <script type="text/javascript" src="sim.js"></script>
    <title>Model Sim</title>
    <style>
      #backup td { height:35px; width:35px; border:0px}
    </style>
    <script type="application/javascript">  

var sim = undefined;
function init() {
    sim = new Simulator({
        canvas: 'canvas',
        height: 500,
        width: 800,
    });
    sim.start();
    document.getElementById('canvas').addEventListener('click', function(e) {
        sim.handle_click(e);
        return false;
    });
};
var int = undefined;

    </script>      
  </head>  
  <body onload="init()">
    <button onclick="javascript:sim.step(); void(0)">STEP</button>
    <button onclick="javascript:sim.animate();">START</button>
    <button onclick="javascript:sim.stop();">STOP</button>
    <button onclick="javascript:sim.reset();sim.redraw()">RESET</button>
    <button onclick="javascript:sim.state = [];sim.redraw()">CLEAR</button>
    <div style="clear:both;display:block"></div>
    <div style="float:right">
      <label>
        Time Scale (1-200ish)
        <input type="range" onchange="javascript:TIMESCALE=(this.value >= 1) ? 1/this.value : TIMESCALE"
             max="200" min="1" value="50"/>
      </label>
    </div>
    <canvas id="canvas" style="border:2px solid #555" width="400" height="400"></canvas>
    
    <div id="backup"></div>
  </body>  
</html>  
